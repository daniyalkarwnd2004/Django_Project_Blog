{% extends 'parent/base.html' %}
{% load static %}

{% block title %}Change Password{% endblock %}

{% block content %}
<div class="content-wrapper">

  <!-- پس‌زمینه انیمیشنی فقط پشت فرم -->
  <div class="glowing-background">
    <div class="glow-circle circle1"></div>
    <div class="glow-circle circle2"></div>
    <div class="glow-circle circle3"></div>
    <div class="glow-circle circle4"></div>
  </div>

  <!-- فرم تغییر رمز -->
  <div class="form-box">
    <h3 class="form-title">🔒 Change Password</h3>
    <p class="form-desc">Enter your old and new password</p>

    <form method="post" novalidate>
      {% csrf_token %}

      {% if form.old_password %}
        <div class="form-group">
          <label for="{{ form.old_password.id_for_label }}">Old Password</label>
          <input type="password" name="{{ form.old_password.name }}" id="{{ form.old_password.id_for_label }}" class="form-input" required>
          {{ form.old_password.errors }}
        </div>
      {% endif %}

      <div class="password-help">
        <ul>
          <li>Your password cannot be similar to any other personal information you have.</li>
          <li>Your password must be at least 8 characters long.</li>
          <li>Your password cannot be a common password.</li>
          <li>Your password cannot be all numbers.</li>
        </ul>
      </div>

      {% if form.new_password1 %}
        <div class="form-group">
          <label for="{{ form.new_password1.id_for_label }}">New Password</label>
          <input type="password" name="{{ form.new_password1.name }}" id="{{ form.new_password1.id_for_label }}" class="form-input" required>
          {{ form.new_password1.errors }}
        </div>
      {% endif %}

      {% if form.new_password2 %}
        <div class="form-group">
          <label for="{{ form.new_password2.id_for_label }}">Confirm New Password</label>
          <input type="password" name="{{ form.new_password2.name }}" id="{{ form.new_password2.id_for_label }}" class="form-input" required>
          {{ form.new_password2.errors }}
        </div>
      {% endif %}

      <button type="submit" class="submit-button">Change Password</button>
    </form>
  </div>

</div>
{% endblock %}
